performance.mark("js-parse-end:code-menu-71948db0153870ef.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["57045"],{19445(e,t,o){o(8455)},19510(e,t,o){o.d(t,{$3:()=>s,HV:()=>i,Vb:()=>r});var a=o(99159);function r(e,t,o){let r={hydroEventPayload:e,hydroEventHmac:t,visitorPayload:"",visitorHmac:"",hydroClientContext:o},s=document.querySelector("meta[name=visitor-payload]");s instanceof HTMLMetaElement&&(r.visitorPayload=s.content);let i=document.querySelector("meta[name=visitor-hmac]")||"";i instanceof HTMLMetaElement&&(r.visitorHmac=i.content);let n="";try{n=JSON.parse(e).event_name}catch{}(0,a.iv)(r,!0,n?.startsWith("staff_bar.")?1:void 0)}function s(e){r(e.getAttribute("data-hydro-view")||"",e.getAttribute("data-hydro-view-hmac")||"",e.getAttribute("data-hydro-client-context")||"")}function i(e){r(e.getAttribute("data-hydro-click-payload")||"",e.getAttribute("data-hydro-click-hmac")||"",e.getAttribute("data-hydro-client-context")||"")}},97698(e,t,o){function a(){return/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null}o.d(t,{u:()=>a}),(0,o(21403).lB)(".js-remove-unless-platform",function(e){let t,o;t=(e.getAttribute("data-platforms")||"").split(","),(o=a())&&t.includes(o)||e.remove()})},8455(e,t,o){o.d(t,{h:()=>u});var a=o(50467),r=o(31635),s=o(94571),i=o(97698),n=o(69991),c=o(19510);let{getItem:d,setItem:l}=(0,n.A)("localStorage"),h="code-button-default-tab";class u extends HTMLElement{showDownloadMessage(){let e=this.findPlatform();e&&this.showPlatform(e)}showCodespaces(){let e=this.findPlatform();e&&(this.showPlatform(e),this.loadAndUpdateContent())}showCodespaceSelector(){let e=this.findPlatform();e&&(this.showPlatform(e),this.codespaceSelector&&(this.codespaceSelector.hidden=!1))}showOpenOrCreateInCodespace(){this.openOrCreateInCodespace&&(this.openOrCreateInCodespace.hidden=!1)}removeOpenOrCreateInCodespace(){this.openOrCreateInCodespace&&this.openOrCreateInCodespace.remove()}refreshList(){this.shouldRefreshList&&(this.shouldRefreshList=!1,this.loadAndUpdateContent())}trackDelete(){this.shouldRefreshList=!0}hideSpinner(){this.codespaceLoadingMenu&&(this.codespaceLoadingMenu.hidden=!0),this.codespaceList&&(this.codespaceList.hidden=!1)}showSpinner(){this.codespaceLoadingMenu&&(this.codespaceLoadingMenu.hidden=!1),this.codespaceList&&(this.codespaceList.hidden=!0)}onDetailsToggle(e){for(let e of(this.modal.hidden=!1,this.platforms))e.hidden=!0;let t=e.target;if(t&&t.open){!this.hasForcedCodespaceTabDefault&&this.forceCodespaceTabDefault?(this.hasForcedCodespaceTabDefault=!0,this.selectDefaultTab(!0)):this.selectDefaultTab(!1);let e=this.copilotTip;e&&(0,c.$3)(e)}}onDetailsKeydown(e){if("Escape"===e.key){this.modal.hidden=!0;let t=e.target;t?.closest("details")?.removeAttribute("open")}}showPlatform(e){for(let t of(this.modal.hidden=!0,this.platforms))t.hidden=t.getAttribute("data-platform")!==e}findPlatform(){return(0,i.u)()}refreshOnError(){window.location.reload()}pollForVscode(e){this.showPlatform("vscode");let t=e.currentTarget.getAttribute("data-src");if(t)try{let e=new URL(t,window.location.origin);["http:","https:","vscode:","vscode-insiders:"].includes(e.protocol)&&this.vscodePoller.setAttribute("src",e.href)}catch(e){console.log("Error polling for VsCode:",e)}}backToCodespacesFromVscodePolling(){this.loadAndUpdateContent(),this.showPlatform("codespaces")}localTabSelected(){l(h,"local")}cloudTabSelected(){l(h,"cloud"),this.codespaceList?.id==="lazyLoadedCodespacesList"&&this.loadAndUpdateContent()}copilotTabSelected(){l(h,"copilot")}selectDefaultTab(e){let t=e?"cloud":d(h);if(!t)return;let o=this.querySelector(`button[data-tab="${t}"`);o&&o.click()}loadAndUpdateContent(){this.codespaceList?.setAttribute("src",this.codespaceList.getAttribute("data-src"))}constructor(...e){super(...e),(0,a._)(this,"forceCodespaceTabDefault",!1),(0,a._)(this,"shouldRefreshList",!1),(0,a._)(this,"hasForcedCodespaceTabDefault",!1)}}(0,r.Cg)([s.CF],u.prototype,"forceCodespaceTabDefault",void 0),(0,r.Cg)([s.aC],u.prototype,"modal",void 0),(0,r.Cg)([s.aC],u.prototype,"codespaceForm",void 0),(0,r.Cg)([s.aC],u.prototype,"codespaceLoadingMenu",void 0),(0,r.Cg)([s.aC],u.prototype,"codespaceList",void 0),(0,r.Cg)([s.aC],u.prototype,"codespaceSelector",void 0),(0,r.Cg)([s.aC],u.prototype,"openOrCreateInCodespace",void 0),(0,r.Cg)([s.aC],u.prototype,"vscodePoller",void 0),(0,r.Cg)([s.zV],u.prototype,"platforms",void 0),(0,r.Cg)([s.aC],u.prototype,"copilotTip",void 0),u=(0,r.Cg)([(0,s.p_)("get-repo")],u)},69991(e,t,o){o.d(t,{A:()=>i,D:()=>n});var a=o(70730),r=o(99159);class s{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}function i(e,t={throwQuotaErrorsOnSet:!1},o=a.cg,n=e=>e,c=e=>e){let d;try{if(!o)throw Error();d=o[e]||new s}catch{d=new s}let{throwQuotaErrorsOnSet:l}=t;function h(e){t.sendCacheStats&&(0,r.iv)({incrementKey:e})}function u(e){try{if(d.removeItem(e),t.ttl){let t=`${e}:expiry`;d.removeItem(t)}}catch{}}return{getItem:function(e,t=Date.now()){try{let o=d.getItem(e);if(!o)return null;let a=`${e}:expiry`,r=Number(d.getItem(a));if(r&&t>r)return u(e),u(a),h("SAFE_STORAGE_VALUE_EXPIRED"),null;return h("SAFE_STORAGE_VALUE_WITHIN_TTL"),n(o)}catch{return null}},setItem:function(e,o,a=Date.now()){try{if(d.setItem(e,c(o)),t.ttl){let o=`${e}:expiry`,r=a+t.ttl;d.setItem(o,r.toString())}}catch(e){if(l&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:u,clear:()=>d.clear(),getKeys:function(){return Object.keys(d)},get length(){return d.length}}}function n(e){return i(e,{throwQuotaErrorsOnSet:!1},a.cg,JSON.parse,JSON.stringify)}}},function(e){e.O(0,["64220","76181","96232"],function(){return e(e.s=19445)}),e.O()}]);
//# sourceMappingURL=code-menu-71948db0153870ef-1076e2e5b22650af.js.map