performance.mark("js-parse-end:65439-3097f4fb22aad2d9.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["65439"],{78994(e,t,r){r.d(t,{o:()=>d});var o=r(5225),n=r(8836),l=r(35148),i=r(58388),s=r(96540);async function a(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let c=new Map,u=(0,o.A)(a,{cache:c});function d(e,t,r){let o=(0,n.t)(),[i,a]=(0,s.useState)({list:[],directories:[],loading:!0}),c=(0,l.ClY)({repo:o,commitOid:e,includeDirectories:!r});return(0,s.useEffect)(()=>{let e=!1,r=async()=>{a({list:[],directories:[],loading:!0});let t=await u(c);if(e)return;let r=t?.paths||[],o=t?.directories||[];a({list:r.concat(o).sort(),directories:o,error:!t})};return t&&r(),function(){e=!0}},[c,t,r]),i}},62812(e,t,r){r.d(t,{z:()=>s});var o=r(35750),n=r(18150),l=r(85242),i=r(50467);class s{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){(0,i._)(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new u(t)}}}var a=new WeakMap,c=new WeakMap;class u{async postMessage(e){if((0,o._)(this,a))return;let t={data:(0,o._)(this,c).call(this,{data:e})};this.onmessage?.(t)}terminate(){(0,l._)(this,a,!0)}constructor(e){(0,n._)(this,a,{writable:!0,value:!1}),(0,i._)(this,"onmessage",void 0),(0,n._)(this,c,{writable:!0,value:void 0}),(0,l._)(this,c,e)}}},8334(e,t,r){r.d(t,{j:()=>i});var o=r(5225),n=r(91385);let l=(0,o.A)(n.fN);function i({data:e}){let{query:t,baseList:r,startTime:o}=e,i=t.replaceAll("\\","");return{query:t,list:r.filter(e=>{var t,r;return t=e,""===(r=i)||(0,n.qA)(r,t)&&l(r,t)>0}).sort((e,t)=>l(i,t)-l(i,e)),baseCount:r.length,startTime:o}}},45008(e,t,r){r.d(t,{m:()=>l});var o=r(74848),n=r(21373);function l({onSave:e,onCancel:t,saveButtonText:r,isLoading:l=!1,loadingAnnouncement:i="",disabled:s=!1}){return(0,o.jsxs)("div",{className:"SpaceDialogFooter-module__footerContainer__n3xDw",children:[(0,o.jsx)(n.Q,{variant:"default",onClick:t,children:"Cancel"}),(0,o.jsx)(n.Q,{variant:"primary",loading:l,loadingAnnouncement:i,onClick:e,disabled:s,children:r})]})}l.displayName="SpaceDialogFooter"},94143(e,t,r){r.d(t,{E:()=>p});var o=r(74848),n=r(35592),l=r(35044),i=r(58388),s=r(4925),a=r(67323),c=r(7624),u=r(18990),d=r(96540);function p({onSelect:e,repoId:t}){let r,p,m,[h,_]=(0,d.useState)([]),[f,w]=(0,d.useState)(!1),[g,y]=(0,d.useState)(void 0),v=(0,d.useCallback)(t=>{y(t),e(t)},[e]),b=(0,d.useCallback)(()=>{_([]),w(!0)},[]);return(0,d.useEffect)(()=>{(async()=>{try{let e=t?`/github-copilot/chat/custom_copilots_owners?repo_id=${t}`:"/github-copilot/chat/custom_copilots_owners",r=await (0,i.lS)(e),o=await r.json(),n=o?.owners;if(!r.ok||!n)return void b();_(n),n[0]&&v(n[0])}catch{b()}})()},[b,v,t]),(0,o.jsx)("div",{className:"mt-2 mb-1",children:(0,o.jsxs)(c.A,{children:[(0,o.jsx)(c.A.Label,{required:!0,children:"Owner"}),(0,o.jsxs)(a.W,{children:[(r=g?.name||"Choose an owner",p=g?(0,o.jsx)(n.r,{src:g.avatarUrl},g.avatarUrl):void 0,(0,o.jsx)(a.W.Button,{"data-testid":"owner-dropdown-anchor",alignContent:"start","aria-describedby":"owner-caption",leadingVisual:p,children:r})),(0,o.jsx)(a.W.Overlay,{width:"large",maxHeight:"large",className:"SpacesOwnerDropdown-module__ownerDropdownOverlay__sMXwE",children:(0,o.jsx)(u.l,{children:(0,o.jsx)(u.l.Group,{className:"SpacesOwnerDropdown-module__ownerListGroup__o7Xi2",children:(0,o.jsxs)(u.l,{selectionVariant:"single",children:[h&&h.map(e=>{let{name:t,avatarUrl:r,displayName:l}=e;return(0,o.jsxs)(u.l.Item,{selected:t===g?.name,onSelect:()=>v(e),className:"SpacesOwnerDropdown-module__ownerListItem__qPgcZ",children:[(0,o.jsx)(u.l.LeadingVisual,{children:(0,o.jsx)(n.r,{src:r})}),t,(0,o.jsx)(u.l.Description,{children:l})]},t)}),!h.length&&!f&&(0,o.jsx)(u.l.Item,{disabled:!0,children:"Fetching owners\u2026"},"fetching-owners"),f&&(0,o.jsx)(u.l.Item,{disabled:!0,className:"SpacesOwnerDropdown-module__errorListItem__aPRTD",children:"An error occurred while loading owners. Please reopen the dialog to try again."},"error-fetching-owners")]})})})})]}),(0,o.jsx)(c.A.Caption,{id:"owner-caption",children:(m=e=>(0,o.jsxs)("span",{className:"sr-only",children:["Space owner. Required. Selected owner: @",e.displayName,"."]}),g?"User"===g.type?(0,o.jsxs)("div",{className:"mt-2 d-flex flex-row flex-shrink flex-items-center",children:[m(g),(0,o.jsx)(s.A,{className:"mr-1",children:"Private"}),(0,o.jsx)("span",{...(0,l.G)("owner-user-caption"),children:"Only you will be able to see this space."})]}):(0,o.jsxs)("div",{className:"mt-2 d-flex flex-row flex-shrink",children:[m(g),(0,o.jsx)(s.A,{className:"SpacesOwnerDropdown-module__orgLabel__vEt2Z",children:"Private"}),(0,o.jsx)("span",{...(0,l.G)("owner-org-caption"),children:"Only visible to you and organization admins. You can share it later."})]}):(0,o.jsxs)("span",{children:[(0,o.jsx)("span",{className:"sr-only",children:"Space owner. Required."})," Where we will store your space."]}))})]})})}p.displayName="SpacesOwnerDropdown"},86900(e,t,r){r.d(t,{WU:()=>a,Bj:()=>v,A2:()=>g,O6:()=>c,dp:()=>p,Lr:()=>f,ee:()=>w,vC:()=>y,X_:()=>d,Ku:()=>u,CT:()=>m,kT:()=>_,rP:()=>h});var o=r(85461),n=r(24661),l=r(58388);function i(e,t){if(!e||!t)return null;let r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=RegExp(`<([^>]+)>;\\s*rel=["']?${r}["']?`,"i"),n=e.match(o);return n?.[1]??null}let s="/github-copilot/chat",a=30,c=["copilot-chat","custom-copilots"],u=["copilot-chat","custom-copilots","count"];function d(e){return["copilot-chat","custom-copilots",e]}function p(e){return e?["copilot-chat","custom-copilot",{id:e.id,owner:e.owner}]:["copilot-chat","custom-copilot",null]}async function m(e){let t=e?`${s}/custom_copilots?type=${e}`:`${s}/custom_copilots`,r=await (0,l.lS)(t);if(!r.ok)throw Error(`Failed to fetch spaces: ${o.nN[r.status]||o.DW}`);return await r.json()}async function h(e){let t,{type:r,perPage:n=a,cursor:c}=e;if(c){let e=new URL(c,window.location.origin);r&&!e.searchParams.has("type")&&e.searchParams.set("type",r),t=e.pathname+e.search}else{let e=new URLSearchParams;r&&e.set("type",r),e.set("per_page",String(Math.min(Math.max(n,1),100)));let o=e.toString();t=`${s}/custom_copilots${o?`?${o}`:""}`}let u=await (0,l.lS)(t);if(!u.ok)throw Error(`Failed to fetch spaces: ${o.nN[u.status]||o.DW}`);let d=await u.json(),p=u.headers.get("Link");return{spaces:d,pagination:{nextCursor:i(p,"next"),prevCursor:i(p,"prev")}}}async function _(e,t){let r=`${s}/custom_copilots/search?type=${e}&q=${encodeURIComponent(t)}`,n=await (0,l.lS)(r);if(!n.ok)throw Error(`Failed to search spaces: ${o.nN[n.status]||o.DW}`);return await n.json()}async function f(e){if(!e||!e.owner)return{status:500,ok:!1,error:"unexpected null custom copilot id or missing owner"};let{owner:t,id:r}=e,n=`${s}/custom_copilots/${t}/${r}`,i=await (0,l.lS)(n);if(!i.ok)return{status:i.status,ok:!1,error:o.nN[i.status]||o.DW};let a=await i.json();return{status:i.status,ok:!0,payload:a}}async function w(e){let t=await (0,l.lS)((0,n.fn)(e),{method:"DELETE"});return t.ok?{status:t.status,ok:!0,payload:null}:t}async function g(e){let t=await (0,l.lS)(`${(0,n.fn)(e)}/settings/visibility`);if(!t.ok)throw Error("Error fetching visibility settings");try{let e=await t.json();return{memberCount:e.member_count&&"number"==typeof e.member_count?e.member_count:null}}catch(e){throw Error(`Error parsing visibility settings: ${e}`)}}async function y(e){let t=await (0,l.lS)(`${(0,n.fn)(e)}/menu_actions`);if(!t.ok)throw Error("Error fetching menu actions");try{let e=await t.json();return{visibility:e.visibility??"private",shareable:e.shareable??!1,editable:e.editable??!1,adminable:e.adminable??!1,baseRole:e.baseRole??"none",public:e.public??!1}}catch(e){throw Error(`Error parsing menu actions: ${e}`)}}async function v(){let e=await (0,l.lS)(`${s}/custom_copilots/count`);if(!e.ok)throw Error(`Failed to fetch spaces count: ${o.nN[e.status]||o.DW}`);return e.json()}},10735(e,t,r){r.d(t,{M:()=>o});function o(e){switch(e.type){case"repository":return{repository_id:e.repositoryId};case"github_file":return{repository_id:e.repositoryId,file_path:e.filePath,sha:e.sha};case"free_text":return{text:e.text,name:e.name};case"github_issue":case"github_pull_request":return{repository_id:e.repositoryId,number:e.number};case"uploaded_text_file":return{name:e.name};case"media_content":return{media_type:e.mediaType,name:e.name,url:e.url,height:e.height,width:e.width};default:throw Error("Unsupported resource")}}},99559(e,t,r){function o(e,t,r=.1){let n=i(e,t,r);return n&&-1===t.indexOf("/")&&(n+=i(e.substring(e.lastIndexOf("/")+1),t,r)),n}function n(e,t,r){if(t){let o=e.innerHTML.trim().match(r||function(e){let t=e.toLowerCase().split(""),r="",o=!0;for(let e of t){let t=e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");o?(r+=`(.*)(${t})`,o=!1):r+=`([^${t}]*?)(${t})`}return RegExp(`${r}(.*?)$`,"i")}(t));if(!o)return;let n=!1,l=[];for(let e=1;e<o.length;++e){let t=o[e];t&&(e%2==0?n||(l.push("<mark>"),n=!0):n&&(l.push("</mark>"),n=!1),l.push(t))}e.innerHTML=l.join("")}else{let t=e.innerHTML.trim(),r=t.replace(/<\/?mark>/g,"");t!==r&&(e.innerHTML=r)}}r.d(t,{He:()=>n,UD:()=>s,dt:()=>o});let l=new Set([" ","-","_"]);function i(e,t,r=.1){let o=e;if(o===t)return 1;let n=o.length,s=0,a=0,c=!0;for(let e of t){let t=o.indexOf(e.toLowerCase()),i=o.indexOf(e.toUpperCase()),u=Math.min(t,i),d=u>-1?u:Math.max(t,i);if(-1===d)return 0;s+=.1,o[d]===e&&(s+=.1),0===d&&(s+=.9-r,c&&(a=1)),l.has(o.charAt(d-1))&&(s+=.9-r),o=o.substring(d+1,n),c=!1}let u=t.length,d=s/u,p=(u/n*d+d)/2;return a&&p+r<1&&(p+=r),p}function s(e,t){return e.score>t.score?-1:e.score<t.score?1:e.text<t.text?-1:1*!!(e.text>t.text)}},27159(e,t,r){r.d(t,{U:()=>l});let o=e=>{let t=getComputedStyle(e,null);return!!t&&"function"==typeof t.getPropertyValue&&["overflow","overflow-y","overflow-x"].some(e=>{let r=t.getPropertyValue(e);return"auto"===r||"scroll"===r})},n=(e,t)=>e&&null!==e.parentNode?n(e.parentNode,t.concat([e])):t;function l(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of n(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&o(t))return t;return document.scrollingElement||document.documentElement}}},89497(e,t,r){r.d(t,{m:()=>f});var o=r(74848),n=r(16522),l=r(29941),i=r(96540),s=r(56149),a=r(34164);let c={n:"ControlledTooltip-module__tooltippedN__KIj7h",s:"ControlledTooltip-module__tooltippedS__JL_qv",e:"ControlledTooltip-module__tooltippedE__oIBoq",w:"ControlledTooltip-module__tooltippedW__aMYMo",ne:"ControlledTooltip-module__tooltippedNe__gVDNf",nw:"ControlledTooltip-module__tooltippedNw__irSZE",se:"ControlledTooltip-module__tooltippedSe__OyhVh",sw:"ControlledTooltip-module__tooltippedSw__me2O2"},u={left:"ControlledTooltip-module__tooltippedAlignLeft2__F4iA8",right:"ControlledTooltip-module__tooltippedAlignRight2__gd5yl"},d=()=>()=>void 0,p=()=>!1,m=()=>!0;function h(e){let t,r,l,h,_,f,w,g,y,v,b,x,E,S,j=(0,n.c)(29);j[0]!==e?({ref:h,direction:f,className:r,text:y,noDelay:l,align:t,wrap:v,open:w,portalProps:g,..._}=e,j[0]=e,j[1]=t,j[2]=r,j[3]=l,j[4]=h,j[5]=_,j[6]=f,j[7]=w,j[8]=g,j[9]=y,j[10]=v):(t=j[1],r=j[2],l=j[3],h=j[4],_=j[5],f=j[6],w=j[7],g=j[8],y=j[9],v=j[10]);let k=void 0===f?"n":f,C=void 0!==w&&w;j[11]!==g?(b=void 0===g?{}:g,j[11]=g,j[12]=b):b=j[12];let N=b,$=(0,i.useSyncExternalStore)(d,m,p),L=c[k],T=t&&u[t],D=l&&"ControlledTooltip-module__tooltippedNoDelay__bW6WD",M=v&&"ControlledTooltip-module__tooltippedMultiline__t2wgM",O=C&&"ControlledTooltip-module__tooltippedOpen__eNKn6";j[13]!==r||j[14]!==L||j[15]!==T||j[16]!==D||j[17]!==M||j[18]!==O?(x=(0,a.$)("ControlledTooltip-module__tooltipBase__N1MbN",L,T,D,M,O,"ControlledTooltip-module__fixedPosition__eEZcA",r),j[13]=r,j[14]=L,j[15]=T,j[16]=D,j[17]=M,j[18]=O,j[19]=x):x=j[19];let W=x;if(!$)return null;let A=y||_["aria-label"];return j[20]!==W||j[21]!==h||j[22]!==_||j[23]!==A||j[24]!==y?(E=(0,o.jsx)("span",{ref:h,role:"tooltip","aria-label":y,"data-visible-text":A,..._,className:W}),j[20]=W,j[21]=h,j[22]=_,j[23]=A,j[24]=y,j[25]=E):E=j[25],j[26]!==N||j[27]!==E?(S=(0,o.jsx)(s.ZL,{...N,children:E}),j[26]=N,j[27]=E,j[28]=S):S=j[28],S}h.displayName="ControlledTooltip";var _=r(27159);function f(e){let t,r,s,a,c,u,d,p,m,f,g,y,v,b,x,E,S=(0,n.c)(30);S[0]!==e?({ref:d,contentRef:u,open:p,anchoredPositionAlignment:c,anchorSide:a,anchorOffset:s,alignmentOffset:t,allowOutOfBounds:r,...m}=e,S[0]=e,S[1]=t,S[2]=r,S[3]=s,S[4]=a,S[5]=c,S[6]=u,S[7]=d,S[8]=p,S[9]=m):(t=S[1],r=S[2],s=S[3],a=S[4],c=S[5],u=S[6],d=S[7],p=S[8],m=S[9]);let j=(0,i.useRef)(null);S[10]===Symbol.for("react.memo_cache_sentinel")?(f=()=>j.current,S[10]=f):f=S[10],(0,i.useImperativeHandle)(d,f),S[11]===Symbol.for("react.memo_cache_sentinel")?(g={left:0,top:0},S[11]=g):g=S[11];let k=(0,i.useRef)(g);S[12]!==u||S[13]!==p?(y=e=>{if(!j.current||!u.current||!p)return w;let t=(0,_.U)(u.current);return t?.addEventListener("scroll",e),()=>{t?.removeEventListener("scroll",e)}},S[12]=u,S[13]=p,S[14]=y):y=S[14],S[15]!==t||S[16]!==r||S[17]!==s||S[18]!==a||S[19]!==c||S[20]!==u?(v=()=>{if(!j.current||!u.current)return k.current;let e=(0,l.uG)(j.current,u.current,{align:c??"center",side:a??"outside-top",alignmentOffset:t??0,anchorOffset:s??0,allowOutOfBounds:r});return(e.left!==k.current.left||e.top!==k.current.top)&&(k.current=e),k.current},S[15]=t,S[16]=r,S[17]=s,S[18]=a,S[19]=c,S[20]=u,S[21]=v):v=S[21],S[22]===Symbol.for("react.memo_cache_sentinel")?(b=()=>k.current,S[22]=b):b=S[22];let C=(0,i.useSyncExternalStore)(y,v,b);return S[23]!==C||S[24]!==m.style?(x={position:"absolute",...C,...m.style},S[23]=C,S[24]=m.style,S[25]=x):x=S[25],S[26]!==p||S[27]!==m||S[28]!==x?(E=(0,o.jsx)(h,{...m,ref:j,open:p,style:x}),S[26]=p,S[27]=m,S[28]=x,S[29]=E):E=S[29],E}function w(){}f.displayName="PortalTooltip"},63187(e,t,r){r.d(t,{Z:()=>l});var o=r(16522),n=r(96540);function l(e){let t,r,l=(0,o.c)(4),{focusRowRef:i,mouseRowRef:s}=e,[a,c]=(0,n.useState)(!1);return l[0]!==i||l[1]!==s?(t=()=>{let e=i.current,t=s.current;if(!e||!t)return;let r=()=>{let t=e.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&c(!0)},o=()=>r(),n=()=>c(!1),l=()=>r(),a=()=>c(!1);return e.addEventListener("focus",o),e.addEventListener("blur",n),t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",a),()=>{e.removeEventListener("focus",o),e.removeEventListener("blur",n),t.removeEventListener("mouseenter",l),t.removeEventListener("mouseleave",a)}},r=[i,s],l[0]=i,l[1]=s,l[2]=t,l[3]=r):(t=l[2],r=l[3]),(0,n.useEffect)(t,r),a}}}]);
//# sourceMappingURL=65439-3097f4fb22aad2d9-8beb4aad5fcee477.js.map